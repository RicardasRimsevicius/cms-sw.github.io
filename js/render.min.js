getMenuBar=function(a){var t=a.all_prefixes,e=$('<nav id="topNavBar" class="navbar navbar-primary" role="navigation">'),n=$('<div class="container-fluid">');e.append(n);var s=$('<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">');n.append(s);var l=$('<ul class="nav navbar-nav">');s.append(l);for(var r=0;r<t.length;r++)addDropDownList(l,t[r],a[t[r]]);return e},addDropDownList=function(a,t,e){var n=$('<li class="dropdown">');linkTittle=$('<a href="#" class="dropdown-toggle" data-toggle="dropdown">').text(t),linkTittle.append($('<b class="caret">')),n.append(linkTittle),a.append(n);var s=$('<ul class="dropdown-menu">');n.append(s);for(var l=0;l<e.length;l++){var r=e[l],p=$("<a>").text(r).attr("href","#"+r),i=$("<li>").append(p);p.click(function(a){a.preventDefault();var t=$(this).attr("href");$("#myTab a[href="+t+"]").tab("show")}),s.append(i),i=null}},add_qa_link_to_row=function(a,t,e){var n=$("<td>");a.append(n);var s="http://cmssdt.cern.ch/SDT/cgi-bin//newQA.py?arch="+t+"&release="+e,l=$("<a></a>").attr("href",s),r=$("<span></span>");l.append(r),r.attr("class","glyphicon glyphicon-search"),n.append(l)},get_tests_url=function(a,t,e,n){var s=t.split("/"),l="";return"utests"==a||"builds"==a?l="https://cmssdt.cern.ch/SDT/cgi-bin/showBuildLogs.py/"+s[6]+"/"+s[7]+"/"+s[8]+"/"+s[9]+"/"+s[10]:"relvals"==a?l="not-ready"==t?"https://cms-sw.github.io/relvalLogDetail.html#"+e+";"+n:"https://cms-sw.github.io/relvalLogDetail.html#"+s[6]+";"+s[10]:"addons"==a&&(l="https://cmssdt.cern.ch/SDT/cgi-bin//showAddOnLogs.py/"+s[6]+"/"+s[7]+"/"+s[8]+"/"+s[9]+"/"+s[10]+"/addOnTests/"),l},get_result_tests=function(a,t){for(var e=0;e<t.length;e++)if(t[e].arch==a)return t[e]},add_tests_to_row=function(a,t,e,n,s){var l=$("<td>");if(t.append(l),0!=a.length){var r=null,p=null,i=null,o=get_result_tests(e,a);if(null!=o&&(r=o.passed,i=o.details,p=o.file),null!=r&&null!=p){var c="",d="See Details";if("utests"==n)"passed"==r?(c="label label-success",d="See Details"):"failed"==r?(c="label label-danger",d=i.num_fails+" Tests Failing"):(c="label label-default",d="Unknown");else if("builds"==n)if("passed"==r)c="label label-success",d="See Details";else if("warning"==r)c="label label-warning",d=i.compWarning+" Warnings";else{c="label label-danger";var h=null!=i.compError?i.compError:0,m=null!=i.linkError?i.linkError:0,u=null!=i.miscError?i.miscError:0;d=h+m+u+" Errors"}else"relvals"==n?(c=r?"label label-success":"label label-danger",incomplete="not-ready"==p,incomplete?(c="label label-info",d="Not complete"):r?(c="label label-success",d="See Details"):(c="label label-danger",d="Pass: "+i.num_passed+" Fail: "+i.num_failed)):c=r?"label label-success":"label label-danger";var f=$("<span>");f.append($("<small>").text(d)),f.attr("class",c);var g=(p.split("/"),get_tests_url(n,p,e,s)),v=$("<a></a>").attr("href",g);v.append(f),l.append(v),t.append(l)}}},add_static_analyzer_link=function(a,t,e){if("not-found"!=t){var n="https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/"+e+"/"+t+"/llvm-analysis/index.html",s=$("<a></a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-eye-open"></span>')),s.append($("<span></span>").text(" Static Analyzer")),a.append(s),a.append($("<br>"));var l=$("<a></a>").attr("href",n.replace("llvm-analysis/index.html","reports/modules2statics.txt"));l.append($("<span></span>").text(" Modules to thread unsafe statics")),a.append(l),a.append($("<br>"));var r=$("<a></a>").attr("href",n.replace("llvm-analysis/index.html","reports/tlf2esd.txt"));r.append($("<span></span>").text(" Modules to thread unsafe EventSetup products")),a.append(r)}},add_hlt_tests_link=function(a,t,e){if("found"==t){var n="https://cmssdt.cern.ch/SDT/jenkins-artifacts/HLT-Validation/"+e,s=$("<a></a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-list-alt"></span>')),s.append($("<span></span>").text(" HLT Validation")),a.append(s),a.append($("<br>"))}},add_rv_exceptions_link=function(a,t,e){if(t){var n="http://cms-sw.github.io/relvalsExceptions.html#"+e,s=$("<a></a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-warning-sign"></span>')),s.append($("<span></span>").text(" Relvals Exceptions Summary")),a.append(s)}},get_rv_exceptions_link_rq=function(a){var t="http://cms-sw.github.io/relvalsExceptions.html#"+a,e=$("<a></a>").attr("href",t);return e.text("Relvals Exceptions Summary for "+a),e},addTagLink=function(a,t){var e=t.indexOf("-")>=0;if(isTopOfBranch=!e&&t.indexOf("X")>=0,e){var n="https://github.com/cms-sw/cmssw/tree/"+t,s=$("<a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-tag">')),s.append($("<span>").text(" IB Tag")),a.append(s)}else if(isTopOfBranch){var n="https://github.com/cms-sw/cmssw/commits/"+t,s=$("<a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-list">')),s.append($("<span>").text(" See Branch")),a.append(s)}else{var n="https://github.com/cms-sw/cmssw/releases/tag/"+t,s=$("<a>").attr("href",n);s.append($('<span class="glyphicon glyphicon-tag">')),s.append($("<span>").text(" Release")),a.append(s)}},write_comp_IB_table=function(a,t){var e=a.compared_tags.split("-->")[1];isTopOfBranch=-1==e.indexOf("-")&&e.indexOf("X")>=0;var n=$("<h3><b></b></h3>").text(e);isTopOfBranch&&n.text("Next IB:");var s=$('<table class="table table-condensed"></table>');s.attr("id",e),t.append(s);var l=$("<td>").append(n);addTagLink(l,e),l.append($("<br>")),add_static_analyzer_link(l,a.static_checks,e),l.append($("<br>")),add_hlt_tests_link(l,a.hlt_tests,e),add_rv_exceptions_link(l,a.RVExceptions,e);var r=$("<tr>"),p=a.relvals,i=a.utests,o=a.addons,c=a.tests_archs,d=a.builds;if(l.attr("rowspan",c.length+1),r.append(l),s.append(r),0!=c.length){var h=$("<th>").text("Architectures");r.append(h);var m=$("<th>").text("Builds");r.append(m);var u=$("<th>").text("Unit Tests");r.append(u);var f=$("<th>").text("RelVals");r.append(f);var g=$("<th>").text("Other Tests");r.append(g);var v=$("<th>").text("Q/A");r.append(v);for(var _=0;_<c.length;_++){var b=$("<tr>");s.append(b);var x=$("<td>");fill_arch_cell(x,c[_],a.cmsdistTags,e),b.append(x),add_tests_to_row(d,b,c[_],"builds",e),add_tests_to_row(i,b,c[_],"utests",e),add_tests_to_row(p,b,c[_],"relvals",e),add_tests_to_row(o,b,c[_],"addons",e),add_qa_link_to_row(b,c[_],e)}}},fill_arch_cell=function(a,t,e,n){if(null==e[t])a.text(t);else{var s=e[t],l="IB/".concat(n,"/",t),r=$("<a>");r.attr("href","https://github.com/cms-sw/cmsdist/commits/"+s);var p="",i=$("<small>");if("Not Found"==s)return void a.text(t);if(s!=l){p="Used same cmsdist tag as "+s.replace("IB/","").replace("/"+t,"");var o=s.split("/")[1],c=o.substring(o.lastIndexOf("_")+1,o.length),d=$("<a>").attr("href","#"+o).text("Patch from "+c);i.append(d)}else p="See cmsdist tag used for this build",i.text("Full Build");r.text(t),a.append(r),a.attr("data-toggle","tooltip").attr("data-placement","right").attr("title",p),a.append($("<br>")),a.append(i)}},write_merge_commit=function(a,t){for(var e=$("<li>"),n=a.number,s=" Automatic merge of ",l=0;l<a.brought_prs.length;l++)s+="#".concat(a.brought_prs[l]," ");var r="https://github.com/cms-sw/cmssw/commit/".concat(a.hash),p=$("<a>").attr("href",r);p.append($("<span>").text(n)),e.append(p);var i=$('<span class="glyphicon glyphicon-transfer">');e.append(i),e.append($("<span>").text(s)),t.append(e)},write_pr=function(a,t){var e=$("<li>"),n="#".concat(a.number),s=" from ".concat(a.author_login,": ",a.title),l=a.url,r=$("<a>").attr("href",l);if(r.append($("<span>").text(n)),e.append(r),a.from_merge_commit){var p=$('<span class="glyphicon glyphicon-transfer">');e.append(p)}e.append($("<span>").text(s)),t.append(e)},writeComparisonLinkGithub=function(a,t){var e=a.split("-->")[0],n=a.replace("-->","...");n="https://github.com/cms-sw/cmssw/compare/".concat(n);var s=$("<a>").attr("href",n);s.append($("<span>").text("See comparison with "+e+" on GitHub"));var l=$("<small>").append(s);t.append(l),t.append($("<br>")),t.append($("<br>"))},write_comparison=function(a,t){var e=a.compared_tags,n=a.merged_prs;if(write_comp_IB_table(a,t),0!=a.merged_prs.length){writeComparisonLinkGithub(e,t);for(var s=$("<ul>"),l=0;l<n.length;l++)n[l].is_merge_commit?write_merge_commit(n[l],s):write_pr(n[l],s);t.append(s)}else{var r=e.split("-->")[0],p=$("<ul>").append($("<li>").text("No new pull requests since "+r));t.append(p)}t.append($("<br>"))},paintComparisons=function(a){for(var t=$("#"+a.release_name),e=a.comparisons,n=e.length-1;n>=0;n--)write_comparison(e[n],t);checkHasToScroll(a.release_name)},checkHasToScroll=function(a){var t=document.location.toString();console.log("option2");var e=t.split("#")[1];if(void 0!=e){var n=e.substring(0,e.lastIndexOf("_")),s=n.charAt(n.length-1);("X"==s||"C"==s)&&a==n&&$("html, body").animate({scrollTop:$("#"+e).offset().top},1e3)}};
