getMenuBar=function(e){var t=e.all_prefixes;var n=$('<nav id="topNavBar" class="navbar navbar-primary" role="navigation">');var r=$('<div class="container-fluid">');n.append(r);var i=$('<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">');r.append(i);var s=$('<ul class="nav navbar-nav">');i.append(s);for(var o=0;o<t.length;o++){addDropDownList(s,t[o],e[t[o]])}return n};addDropDownList=function(e,t,n){var r=$('<li class="dropdown">');linkTittle=$('<a href="#" class="dropdown-toggle" data-toggle="dropdown">').text(t);linkTittle.append($('<b class="caret">'));r.append(linkTittle);e.append(r);var i=$('<ul class="dropdown-menu">');r.append(i);for(var s=0;s<n.length;s++){var o=n[s];var u=$("<a>").text(o).attr("href","#"+o);var a=$("<li>").append(u);u.click(function(e){e.preventDefault();var t=$(this).attr("href");$("#myTab a[href="+t+"]").tab("show")});i.append(a);a=null}};add_qa_link_to_row=function(e,t,n){var r=$("<td>");e.append(r);var i="http://cmssdt.cern.ch/SDT/cgi-bin//newQA.py?arch="+t+"&release="+n;var s=$("<a></a>").attr("href",i);var o=$("<span></span>");s.append(o);o.attr("class","glyphicon glyphicon-search");r.append(s)};get_tests_url=function(e,t,n,r){var i=t.split("/");var s="";if(e=="utests"||e=="builds"){s="https://cmssdt.cern.ch/SDT/cgi-bin/showBuildLogs.py/"+i[6]+"/"+i[7]+"/"+i[8]+"/"+i[9]+"/"+i[10]}else if(e=="relvals"){if(t=="not-ready"){s="https://cms-sw.github.io/relvalLogDetail.html#"+n+";"+r}else{s="https://cms-sw.github.io/relvalLogDetail.html#"+i[6]+";"+i[10]}}else if(e=="addons"){s="https://cmssdt.cern.ch/SDT/cgi-bin//showAddOnLogs.py/"+i[6]+"/"+i[7]+"/"+i[8]+"/"+i[9]+"/"+i[10]+"/"+"addOnTests"+"/"}return s};get_result_tests=function(e,t){for(var n=0;n<t.length;n++){if(t[n].arch==e){return t[n]}}};add_tests_to_row=function(e,t,n,r,i){var s=$("<td>");t.append(s);if(e.length==0){return}var o=null;var u=null;var a=null;var f=get_result_tests(n,e);if(f!=null){o=f.passed;a=f.details;u=f.file}if(o==null||u==null){return}var l="";var c="See Details";if(r=="utests"){if(o=="passed"){l="label label-success";c="See Details"}else if(o=="failed"){l="label label-danger";c=a.num_fails+" Tests Failing"}else{l="label label-default";c="Unknown"}}else if(r=="builds"){if(o=="passed"){l="label label-success";c="See Details"}else if(o=="warning"){l="label label-warning";c=a.compWarning+" Warnings"}else{l="label label-danger";var h=a.compError!=null?a.compError:0;var p=a.linkError!=null?a.linkError:0;var d=a.miscError!=null?a.miscError:0;c=h+p+d+" Errors"}}else if(r=="relvals"){l=o?"label label-success":"label label-danger";incomplete=u=="not-ready";if(incomplete){l="label label-info";c="Not complete"}else if(o){l="label label-success";c="See Details"}else{l="label label-danger";c="Pass: "+a.num_passed+" Fail: "+a.num_failed}}else{l=o?"label label-success":"label label-danger"}var v=$("<span>");v.append($("<small>").text(c));v.attr("class",l);var m=u.split("/");var g=get_tests_url(r,u,n,i);var y=$("<a></a>").attr("href",g);y.append(v);s.append(y);t.append(s)};add_static_analyzer_link=function(e,t,n){if(t!="not-found"){var r="https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/"+n+"/"+t+"/llvm-analysis/index.html";var i=$("<a></a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-eye-open"></span>'));i.append($("<span></span>").text(" Static Analyzer"));e.append(i);e.append($("<br>"));var s=$("<a></a>").attr("href",r.replace("llvm-analysis/index.html","reports/modules2statics.txt"));s.append($("<span></span>").text(" Modules to thread unsafe statics"));e.append(s);e.append($("<br>"));var o=$("<a></a>").attr("href",r.replace("llvm-analysis/index.html","reports/tlf2esd.txt"));o.append($("<span></span>").text(" Modules to thread unsafe EventSetup products"));e.append(o)}};add_hlt_tests_link=function(e,t,n){if(t=="found"){var r="https://cmssdt.cern.ch/SDT/jenkins-artifacts/HLT-Validation/"+n;var i=$("<a></a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-list-alt"></span>'));i.append($("<span></span>").text(" HLT Validation"));e.append(i)}};addTagLink=function(e,t){var n=t.indexOf("-")>=0;isTopOfBranch=!n&&t.indexOf("X")>=0;if(n){var r="https://github.com/cms-sw/cmssw/tree/"+t;var i=$("<a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-tag">'));i.append($("<span>").text(" IB Tag"));e.append(i)}else if(isTopOfBranch){var r="https://github.com/cms-sw/cmssw/commits/"+t;var i=$("<a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-list">'));i.append($("<span>").text(" See Branch"));e.append(i)}else{var r="https://github.com/cms-sw/cmssw/releases/tag/"+t;var i=$("<a>").attr("href",r);i.append($('<span class="glyphicon glyphicon-tag">'));i.append($("<span>").text(" Release"));e.append(i)}};write_comp_IB_table=function(e,t){var n=e.compared_tags.split("-->")[1];isTopOfBranch=n.indexOf("-")==-1&&n.indexOf("X")>=0;var r=$("<h3><b></b></h3>").text(n);if(isTopOfBranch){r.text("Next IB:")}var i=$('<table class="table table-condensed"></table>');i.attr("id",n);t.append(i);var s=$("<td>").append(r);addTagLink(s,n);s.append($("<br>"));add_static_analyzer_link(s,e.static_checks,n);s.append($("<br>"));add_hlt_tests_link(s,e.hlt_tests,n);var o=$("<tr>");var u=e.relvals;var a=e.utests;var f=e.addons;var l=e.tests_archs;var c=e.builds;s.attr("rowspan",l.length+1);o.append(s);i.append(o);if(l.length!=0){var h=$("<th>").text("Architectures");o.append(h);var p=$("<th>").text("Builds");o.append(p);var d=$("<th>").text("Unit Tests");o.append(d);var v=$("<th>").text("RelVals");o.append(v);var m=$("<th>").text("Other Tests");o.append(m);var g=$("<th>").text("Q/A");o.append(g);for(var y=0;y<l.length;y++){var b=$("<tr>");i.append(b);var w=$("<td>");fill_arch_cell(w,l[y],e.cmsdistTags,n);b.append(w);add_tests_to_row(c,b,l[y],"builds",n);add_tests_to_row(a,b,l[y],"utests",n);add_tests_to_row(u,b,l[y],"relvals",n);add_tests_to_row(f,b,l[y],"addons",n);add_qa_link_to_row(b,l[y],n)}}};fill_arch_cell=function(e,t,n,r){if(n[t]==null){e.text(t)}else{var i=n[t];var s="IB/".concat(r,"/",t);var o=$("<a>");o.attr("href","https://github.com/cms-sw/cmsdist/commits/"+i);var u="";var a=$("<small>");if(i=="Not Found"){e.text(t);return}else if(i!=s){u="Used same cmsdist tag as "+i.replace("IB/","").replace("/"+t,"");var f=i.split("/")[1];var l=f.substring(f.lastIndexOf("_")+1,f.length);var c=$("<a>").attr("href","#"+f).text("Patch from "+l);a.append(c)}else{u="See cmsdist tag used for this build";a.text("Full Build")}o.text(t);e.append(o);e.attr("data-toggle","tooltip").attr("data-placement","right").attr("title",u);e.append($("<br>"));e.append(a)}};write_merge_commit=function(e,t){var n=$("<li>");var r=e.number;var i=" Automatic merge of ";for(var s=0;s<e.brought_prs.length;s++){i+="#".concat(e.brought_prs[s]," ")}var o="https://github.com/cms-sw/cmssw/commit/".concat(e.hash);var u=$("<a>").attr("href",o);u.append($("<span>").text(r));n.append(u);var a=$('<span class="glyphicon glyphicon-transfer">');n.append(a);n.append($("<span>").text(i));t.append(n)};write_pr=function(e,t){var n=$("<li>");var r="#".concat(e.number);var i=" from ".concat(e.author_login,": ",e.title);var s=e.url;var o=$("<a>").attr("href",s);o.append($("<span>").text(r));n.append(o);if(e.from_merge_commit){var u=$('<span class="glyphicon glyphicon-transfer">');n.append(u)}n.append($("<span>").text(i));t.append(n)};writeComparisonLinkGithub=function(e,t){var n=e.split("-->")[0];var r=e.replace("-->","...");r="https://github.com/cms-sw/cmssw/compare/".concat(r);var i=$("<a>").attr("href",r);i.append($("<span>").text("See comparison with "+n+" on GitHub"));var s=$("<small>").append(i);t.append(s);t.append($("<br>"));t.append($("<br>"))};write_comparison=function(e,t){var n=e.compared_tags;var r=e.merged_prs;write_comp_IB_table(e,t);if(e.merged_prs.length!=0){writeComparisonLinkGithub(n,t);var i=$("<ul>");for(var s=0;s<r.length;s++){if(r[s].is_merge_commit){write_merge_commit(r[s],i)}else{write_pr(r[s],i)}}t.append(i)}else{var o=n.split("-->")[0];var u=$("<ul>").append($("<li>").text("No new pull requests since "+o));t.append(u)}t.append($("<br>"))};paintComparisons=function(e){var t=$("#"+e.release_name);var n=e.comparisons;for(var r=n.length-1;r>=0;r--){write_comparison(n[r],t)}checkHasToScroll(e.release_name)};checkHasToScroll=function(e){var t=document.location.toString();console.log("option2");var n=t.split("#")[1];var r=n.substring(0,n.lastIndexOf("_"));var i=r.charAt(r.length-1);if(i=="X"||i=="C"){if(e==r){$("html, body").animate({scrollTop:$("#"+n).offset().top},1e3)}}}
